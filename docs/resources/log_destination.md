---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "sym_log_destination Resource - terraform-provider-sym"
subcategory: ""
description: |-
  The sym_log_destination resource allows you to specify where audit logs should be streamed.
---

# sym_log_destination (Resource)

The `sym_log_destination` resource allows you to specify where audit logs should be streamed.

## Example Usage

```terraform
resource "sym_integration" "runtime_context" {
  type = "permission_context"
  name = "aws-flow-context-test"
  label = "Runtime context"
  external_id = "123456789012"

  settings = {
    cloud       = "aws"
    external_id = "1478F2AD-6091-41E6-B3D2-766CA2F173CB" # optional
    region      = "us-east-1"
    role_arn    = "arn:aws:iam::123456789012:role/sym/RuntimeConnectorRole"
  }
}

module "kinesis_firehose_connector" {
  source = "terraform.symops.com/symopsio/kinesis-firehose-connector/sym"

  environment = "prod"
}

resource "aws_kinesis_firehose_delivery_stream" "this" {
  name        = "SymS3Firehose"
  destination = "extended_s3"

  extended_s3_configuration {
    role_arn   = module.kinesis_firehose_connector.firehose_role_arn
    bucket_arn = module.kinesis_firehose_connector.firehose_bucket_arn

  }
}

# kinesis firehose log destination
resource "sym_log_destination" "s3_firehose" {
  type           = "kinesis_firehose"
  integration_id = sym_integration.runtime_context.id

  # kinesis_firehose type needs the stream_name in the settings
  settings = {
    # the name of the stream in AWS
    stream_name = aws_kinesis_firehose_delivery_stream.this.name
  }
}

# kinesis data stream log destination
resource "sym_log_destination" "data_stream" {
  type           = "kinesis_data_stream"
  integration_id = sym_integration.runtime_context.id

  # kinesis_data_stream type needs the stream_name in the settings
  settings = {
    # the name of the stream in AWS
    stream_name = aws_kinesis_firehose_delivery_stream.this.name
  }
}

# segment log destination
resource "sym_log_destination" "segment" {
  type           = "segment"
  integration_id = sym_integration.runtime_context.id
}

# HTTP log destination
resource "sym_log_destination" "segment" {
  type           = "http"
  integration_id = sym_integration.runtime_context.id

  # http type needs the url in the settings
  settings = {
    # the URL to funnel the logs
    url = "https://example.com"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `type` (String) The type of the Log Destination.

### Optional

- `integration_id` (String) The ID for the Integration associated with this Log Destination.
- `settings` (Map of String) A map of settings specific to this Log Destination.

### Read-Only

- `id` (String) The ID of this resource.

## Import

Import is supported using the following syntax:

```shell
# sym_log_destination can be imported in the format type:slug (the slug is the name attribute)
# you can find a log destination's type and slug by running `symflow resources list sym_log_destination`
terraform import sym_log_destination.firehose kinesis_firehose:my_stream_name
```
